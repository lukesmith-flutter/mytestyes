name: 'Hello World'
description: 'Greet someone'
runs:
  using: "composite"
  steps:
    - name: Checkout
      uses: actions/checkout@v4.0.0
      with:
        fetch-depth: 0

    - name: Install Terraform
      uses: hashicorp/setup-terraform@v2
      with:
        terraform_version: "1.5.7"
        terraform_wrapper: false
    
    - name: yarn install
      working-directory: ${{ env.STACK_PATH }}
      run: yarn install
      
    - name: Install cdktf-cli
      working-directory: ${{ env.STACK_PATH }}
      run:  yarn global add cdktf-cli@0.19.0

    - name: cdktf get
      working-directory: ${{ env.STACK_PATH }}
      run: cdktf get

    - name: Yarn Build
      working-directory: ${{ env.STACK_PATH }}
      run: yarn build